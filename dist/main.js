(()=>{var e={333:e=>{e.exports={Project:class{constructor(e,t,o,n){this.title=e,this.description=t,this.dueDate=o,this.tasks=n}addTask(e){this.tasks.push(e)}removeTask(e){console.log("BEFORE SPLICE: "+this.tasks),this.tasks.splice(e,1),console.log("AFTER SPLICE: "+this.tasks)}}}},997:e=>{e.exports={Task:class{constructor(e,t,o,n,r,s,c=!1){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.notes=r,this.checklist=s,this.complete=c}toggleComplete(){this.complete=!this.complete}}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(997),t=o(333);let n=[],r=[],s=document.querySelector("#projects"),c=(document.querySelector("#tasks"),document.querySelector("#project-input-form button")),a=document.querySelector("#task-input-form button"),l=new t.Project("Todo List","A dynamic project management application.","May 10, 2021",[]),i=new e.Task("Project setup","Webpack setup and create Project and Task classes","May 6, 2021","High","Use webpack",[]);function u(){let e=1;s.innerHTML="",n.forEach((t=>{let o=`\n    <div className="project-card">\n      <h3>Project #${e}: ${t.title}</h3>\n      <p>${t.description}</p>\n      <strong>Task List</strong>\n      <ul>`;t.tasks.length>0?o+=`${t.tasks.map(((e,t)=>`<li><strong>${e.title}</strong><button class="btn btn-delete" data-id="${t}">Delete</button> (<small>${e.dueDate}</small>)</li>`))}`:o+="<li><strong>No tasks to display.</strong></li>",o+="</ul>\n    </div>\n    ",s.innerHTML+=o,e++})),m()}function p(){r=[],n.map((e=>{e.tasks.map((e=>{r.push(e.title)}))})),console.log("ALL TASKS UPDATED:\n"+r.join(" | "))}function d(e){let t=document.querySelector("select[name=projectId]"),o=0;console.log("Dropdown to be create on "+t),t.innerHTML="",e.forEach((e=>{console.log(e.title);let n=document.createElement("option");n.setAttribute("data-id",o),n.value=o,n.innerText=e.title,console.log(n),t.appendChild(n),o++}))}function m(){[...document.querySelectorAll(".btn-delete")].forEach(((e,t)=>{e.addEventListener("click",(function(){alert("DELETE ID OF "+t),n.splice(t,1),p(),u()}))}))}n.push(l),l.addTask(i),i.toggleComplete(),console.log(n),u(),c.addEventListener("click",(function(e){e.preventDefault();let o=document.querySelector("#project-input-form input[name=title]").value,r=document.querySelector("#project-input-form input[name=description]").value,s=document.querySelector("#project-input-form input[name=dueDate]").value,c=(document.querySelector("#project-input-form input[name=tasks]").value,new t.Project(o,r,s,[]));n.push(c),u(),d(n)})),a.addEventListener("click",(function(t){t.preventDefault();let o=document.querySelector("#task-input-form input[name=title]").value,r=document.querySelector("#task-input-form select[name=projectId]").value,s=document.querySelector("#task-input-form input[name=description]").value,c=document.querySelector("#task-input-form input[name=dueDate]").value,a=(document.querySelector("#task-input-form input[name=checklist]").value,document.querySelector("#task-input-form input[name=notes]").value),l=document.querySelector("#task-input-form input[name=priority]").value,i=new e.Task(o,s,c,l,a,[],!1);console.log("PROJECTS ID:"+r),n[r].addTask(i),u(),p(),m()})),d(n)})()})();