(()=>{var t={333:t=>{t.exports={Project:class{constructor(t,e,o,n){this.title=t,this.description=e,this.dueDate=o,this.tasks=n}addTask(t){this.tasks.push(t)}removeTask(t){console.log("BEFORE SPLICE: "+this.tasks),this.tasks.splice(t,1),console.log("AFTER SPLICE: "+this.tasks)}}}},997:t=>{t.exports={Task:class{constructor(t,e,o,n,r,a,c=!1){this.title=t,this.description=e,this.dueDate=o,this.priority=n,this.notes=r,this.checklist=a,this.complete=c}toggleComplete(){this.complete=!this.complete}}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=o(997),e=o(333);let n=[],r=[],a=document.querySelector("#projects"),c=(document.querySelector("#tasks"),document.querySelector("#project-input-form button")),s=document.querySelector("#task-input-form button"),u=new e.Project("Todo List","A dynamic project management application.","May 10, 2021",[]),i=new t.Task("Project setup","Webpack setup and create Project and Task classes","May 6, 2021","High","Use webpack",[]);function l(){a.innerHTML="",n.forEach(((t,e)=>{let o=`\n    <div className="project-card">\n      <h3>Project #${e+1}: ${t.title}</h3><button class="btn btn-delete-project" data-project-id="${e}">Delete</button>\n      <p>${t.description}</p>\n      <strong>Task List</strong>\n      <ul>`;t.tasks.length>0?o+=`${t.tasks.map(((t,o)=>`<li><strong>${t.title}</strong><button class="btn btn-delete" data-project="${e}" data-id="${o}">Delete</button> (<small>${t.dueDate}</small>)</li>`))}`:o+="<li><strong>No tasks to display.</strong></li>",o+="</ul>\n    </div>\n    ",a.innerHTML+=o})),m(),[...document.querySelectorAll(".btn-delete-project")].forEach(((t,e)=>{t.addEventListener("click",(function(t){let e=t.target.getAttribute("data-project-id");n.splice(e,1),p(),l(),d(n)}))})),function(){let t=[...document.querySelectorAll("input")],e=[...document.querySelectorAll("select")];t.forEach((t=>{t.value=""})),e.forEach((t=>{t.selectedIndex=0}))}()}function p(){r=[],n.map((t=>{t.tasks.map((t=>{r.push(t.title)}))}))}function d(t){let e=document.querySelector("select[name=projectId]"),o=0;e.innerHTML="",t.forEach((t=>{let n=document.createElement("option");n.setAttribute("data-id",o),n.value=o,n.innerText=t.title,e.appendChild(n),o++}))}function m(){[...document.querySelectorAll(".btn-delete")].forEach(((t,e)=>{t.addEventListener("click",(function(t){let e=t.target.getAttribute("data-project"),o=t.target.getAttribute("data-id");n[e].removeTask(o),p(),l()}))}))}n.push(u),u.addTask(i),i.toggleComplete(),l(),c.addEventListener("click",(function(t){t.preventDefault();let o=document.querySelector("#project-input-form input[name=title]").value,r=document.querySelector("#project-input-form input[name=description]").value,a=document.querySelector("#project-input-form input[name=dueDate]").value,c=(document.querySelector("#project-input-form input[name=tasks]").value,new e.Project(o,r,a,[]));n.push(c),l(),d(n)})),s.addEventListener("click",(function(e){e.preventDefault();let o=document.querySelector("#task-input-form input[name=title]").value,r=document.querySelector("#task-input-form select[name=projectId]").value,a=document.querySelector("#task-input-form input[name=description]").value,c=document.querySelector("#task-input-form input[name=dueDate]").value,s=(document.querySelector("#task-input-form input[name=checklist]").value,document.querySelector("#task-input-form input[name=notes]").value),u=document.querySelector("#task-input-form input[name=priority]").value,i=new t.Task(o,a,c,u,s,[],!1);n[r].addTask(i),p(),l(),m()})),d(n)})()})();